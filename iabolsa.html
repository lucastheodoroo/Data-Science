<!DOCTYPE HTML>
<!--
	Future Imperfect by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Data Science</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="single is-preload">

		<!-- Wrapper -->
			<div id="wrapper">
				<!-- Header -->
					<header id="header">
						<h1><a href="index.html">Lucas Theodoro</a></h1>
						<nav class="links">
							<ul>
								<li><a href="businessintelligence.html">Business Intelligence</a></li>
								<li><a href="dashboards.html">Dashboards</a></li>
								<li><a href="artigos.html">Artigos</a></li>
								<li><a href="sobre.html">Sobre</a></li>
							</ul>
						</nav>
						<nav class="main">
							<ul>
								<li class="search">
									<a class="fa-search" href="#search">Search</a>
									<form id="search" method="get" action="#">
										<input type="text" name="query" placeholder="Search" />
									</form>
								</li>
								<li class="menu">
									<a class="fa-bars" href="#menu">Menu</a>
								</li>
							</ul>
						</nav>
					</header>
				<!-- Menu -->
					<section id="menu">
						<!-- Search -->
							<section>
								<form class="search" method="get" action="#">
									<input type="text" name="query" placeholder="Search" />
								</form>
							</section>
						<!-- Links -->
							<section>
								<ul class="links">
									<li>
										<a href="dashboards.html">
											<h3>Dashboards</h3>
											<p>Projetos em Power BI</p>
										</a>
									</li>
									<li>
										<a href="businessintelligence.html">
											<h3>Business Intelligence</h3>
											
										</a>
									</li>
									<li>
										<a href="artigos.html">
											<h3>Artigos</h3>
										</a>
									</li>
									<li>
										<a href="ml.html">
											<h3>Machine Learning</h3>
										</a>
									</li>
									
								</ul>
							</section>

					</section>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
							<article class="post">
								<header>
									<div class="title">
										<h2><a href="">Decisão artificial?</a></h2>
										<p>Análise de dados e machine learning para operação no mercado financeiro</p>
									</div>
									<div class="meta">
										<time class="published" datetime="2022-03-20">Março 20, 2022</time>
										<a href="sobre.html" class="author"><span class="name">Lucas</span><img src="images/perfil.jpg" alt="" /></a>
									</div>
								</header>
								<span class="image featured"><img src="images/robo.jpg" alt="" /></span>
								
								<p>
									Caso queira, pode encontrar o código desenvolvido no Notebook abaixo.
								</p>
									<p><a href="https://github.com/lucastheodoroo/Data-Science/blob/main/notebooks/An%C3%A1lise%20Turbina%20E%C3%B3lica.ipynb" target="_blank" style="color:#FF0000;">Notebook</a></p>
									<p>Fonte dos dados: <a href="https://www.kaggle.com/berkerisen/wind-turbine-scada-dataset" target="_blank" style="color:#FF0000;">https://www.kaggle.com/berkerisen/wind-turbine-scada-dataset</a><p>
								
								
								<p><b>Considerações Iniciais</b></p>
								<p>
									A análise fundamentalista é um dos pilares do investimento em valor (famoso value investing)
									preconizado por grandes investidores como Benjamin Graham e Warren Buffet. Desse modo, esse
									modelo foi desenvolvido utilizando a análise das demonstrações de balanço patrimonial e 
									demonstração do resultado do exercício (DRE) como fundamentos para investimento em empresas
									listadas na bolsa de valores.
								</p>
								<p>
									Destaco que esta análise, em um primeiro momento, tem como foco a demonstração de um modelo de machine 
									learning que determine se uma ação deva ser comprada ou não. Deixando de lado fatores relevantes na 
									alocação de ativos como, por exemplo: setores, tamanho da empresa e governança corporativa.
								</p>
								<p>
									Com relação as empresas escolhidas, foram selecionados diversos setores: aéreo,
									energia, shoppings, financeiro entre tantas outras. Com isso, eliminamos um possível
									viés setorial tendo em vista que cada setor possui características particulares 
									(regulação, custos, mercado internacional).
								</p>
								<p>
									O benchmark da carteira é o índice Ibovespa já que a carteira é composta apenas de
									ações e engloba tanto large caps como mid caps.
								</p>
								
								<p><b>Base de dados</b><p>
								<p>
									A elaboração da base de dados iniciou com a extração das demonstrações do site
									fundamentus e, posteriormente, foi feito um tratamento para que ficasse apropriada
									para análise. 
								</p>
								<p>
									Tratamento da base foi feito com ajustes básicos: alteração de título, mudanças de índices,
									cabeçalhos das colunas com a base dos fundamentos ajustadas foram extraídas as cotações
									dos papéis e juntadas aos fundamentos das empresas nas datas correspondentes, já que as 
									demonstrações são divulgadas trimestralmente as cotações utilizadas serão as das datas de
									divulgação dos balaços.
								</p>
								
								<p>
									Com a base contendo todas essas informações, é necessário que seja feito o tratamento
									das colunas pois algumas empresas divulgam demonstrações com colunas diferentes (EXEMPLO).
									feito esse ajuste restaram X empresas na base.
								</p>
								<p>
									Foi realizada a contagem dos valores vazios por coluna e considerado uma regra de forma
									arbitraria que a coluna com mais de 50 observações vazias seria eliminada da base para
									não distorcer a análise como um todo.
								</p>
								
								<p><b>Parâmetros para o modelo</b><p>
								<p>
									O objetivo do modelo é informar quando comprar e não quando vender, porém o modelo
									irá classificar em três categorias (compra vende não compra) porque isso vai impactar 
									nos indicadores de precisão e recall para saber quando o modelo indica compra, mas na 
									verdade seria venda.
								</p>
								<p>
									Também foi adicionado as cotações do Ibovespa para que fosse feita a comparação. 
									E transformado tudo em um só dataframe.
								</p>	
								<img src="" width="500" height="500">
								
								<p><b>Machine Learning</b><p>
								<p>
									Seleção de características
								</p>
								<p>
									Foram separadas muitas características então foram excluídas algumas na tentativa de otimizar
									o modelo. Para isso foi elaborada uma árvore de decisão para elencar as 10 características 
									mais importantes as quais estão elencadas abaixo.
								</p>
								<p>
									Feito isso, partimos para o processo de normalização dos dados utilizando o StandarScaler do 
									pacote de pré-processamento do skitlearn, a separação dos dados em treino e teste e a criação 
									de um modelo de puro chute para efetuar a comparação. Após isso, foram testados vários modelos
									e obteve-se melhor resultado com o modelo random forest e então foi realizado o tunning desse 
									modelo na tentativa de obter um resultado melhor alterando os parâmetros do modelo.
								</p>
								<p>
									Por fim, foi feito o teste nos dados reais e obtido o resultado superior ao Ibovespa
									de aproximadamente 7%.
								</p>
								<p><b>Conclusão</b><p>
								<p>
									Considerando o resultado obtido, o teste do modelo foi um sucesso obtendo um rendimento expressivo
									considerando um trimestre e o mercado de ações. No entanto, seria necessário um teste em um período maior, mas
									com o resultado positivo fica claro que é possível utilizar machine learning para operar no mercado financeiro.
									Deixo na próxima seção uma opinião sobre o assunto e a aplicação do modelo.
								</p>
								<p><b>Opinião</b><p>
								<p>
									Analisando o código e os resultados, vejo alguns problemas como o fato de que nas datas de fechamento dos trimestres, em que são revelados os fundamentos,
									não necessariamente vai refletir no preço da ação no dia. No momento das correlações, fica evidente uma alta correlação entre alguns itens em virtude da sua natureza
									contábil. 
									A retirada de valores vazios para preparar a base pode eliminar fatores
									relevantes para a análise individual da empresa, uma vez que cada setor tem suas particularidades
									Seleção de ações o modelo pode se comportar muito bem com large caps tendo em vista que elas andam muito bem com os fundamentos o que é diferente de 
									micro/low caps que ficam em um nicho de opcionalidades e não necessáriamente andam em linha com os fundamentos
									(ex: startup reporta prejuizo com promessa de lucro no futuro)
									ao meu ver a utilização deve ser feita com muito cuidado e tambem utilziar de forma consciente ou seja deixar que o individuo tome as decisoes
									pois ainda existem nuances que modelos matematicos nao sao capazes de abordar.
									. Data da divulgação não 
									reflete imediatamente os fundasmentos.
								</p>
								
								<p>
									Assim encerro mais uma análise e agradeço você por ter lido até aqui. Um abraço!
								</p>
									
								</footer>
							</article>

					</div>

				<!-- Footer -->
					<section id="footer">
						<ul class="icons">
							<li><a href="mailto:luc_th@hotmail.com?subject=Contato" class="icon solid fa-envelope"><span class="label">Email</span></a></li>
							<li><a href="https://www.linkedin.com/in/lucas-theodoro-381219211" class="icon brands fa-linkedin-in"><span class="label">LinkedIn</span></a></li>
									
						</ul>
					</section>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
